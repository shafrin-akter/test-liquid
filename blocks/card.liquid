{% liquid
  assign card_radius = block.settings.card_radius
  assign border = block.settings.border
  assign border_color = block.settings.border_color
  assign img = block.settings.image
  assign img_radius = block.settings.img_radius
  assign column_width = block.settings.column_width
  assign title = block.settings.title
  assign description = block.settings.description
  assign btn_link = block.settings.btn_link
  assign btn_text = block.settings.btn_text
  assign text_align = block.settings.text_align
  assign btn_text_color = block.settings.btn_text_color
  assign btn_bg_color = block.settings.btn_bg_color
  assign btn_padding = block.settings.btn_padding
  assign title_size = block.settings.title_size
  assign btn_width = block.settings.btn_width
  assign btn_radius = block.settings.btn_radius
  assign title_color = block.settings.title_color
  assign description_color = block.settings.description_color
  assign description_size = block.settings.description_size
  assign line_height = block.settings.line_height
%}

<div id="shopify-block-{{ block.id }}" class="card-container">
  <div class="card">
    {% if img != "blank" %}
      <img src="{{ img | img_url: '1200x' }}" alt="Card Image">
    {% endif %}
  
    <h1 class="title">{{ title }}</h1>
  
    <p>{{ description }}</p>
  
    {% if btn_link != "blank" %}
      <a class="card_btn" href="{{ btn_link }}">{{ btn_text }}</a>
    {% endif %}
  </div>
</div>

<style>
  /* Card Container - Flex/Grid Layout */
  #shopify-block-{{ block.id }} {
    display: flex;
    flex-wrap: wrap;
    gap: 20px; /* ✅ GAP যুক্ত করা হলো */
    justify-content: space-between;
    
  }

  /* Individual Card */
  #shopify-block-{{ block.id }} .card {
    max-width: {{ column_width }};
    flex-basis: {{ column_width }};
    text-align: {{ text_align }};
    padding: 15px;
    border-radius: {{ card_radius }}px;
    border: {{ border }}px solid {{ border_color }};
    
  }

  /* Image Styling */
  #shopify-block-{{ block.id }} .card img {
    max-width: 100%;
    border-radius: {{ img_radius }}px;
    display: block;
  }

  /* Title Styling */
  #shopify-block-{{ block.id }} .title {
    font-size: {{ title_size }}px;
    color: {{ title_color }};
    margin-top: 10px;
    margin-bottom: 10px;
  }

  /* Description Styling */
  #shopify-block-{{ block.id }} p {
    font-size: {{ description_size }}px;
    line-height: {{ line_height }}px;
    color: {{ description_color }};
    margin-bottom: 15px;
  }

  /* Button Styling */
  #shopify-block-{{ block.id }} .card_btn {
    text-decoration: none;
    color: {{ btn_text_color }};
    background-color: {{ btn_bg_color }};
    padding: {{ btn_padding }}px;
    width: {{ btn_width }}%;
    display: inline-block;
    text-align: center;
    border-radius: {{ btn_radius }}px;
    font-size: 18px;
    font-weight: bold;
    border: 1px solid black;
  }
</style>

{% schema %}
  {
    "name": "Card",
    "class": "card",
    "settings": [
      {
        "type": "range",
        "unit": "px",
        "min": 0,
        "max": 100,
        "default": 0,
        "id": "card_radius",
        "label": "Border Radius",
        "step": 1
      },
      {
        "type": "color",
        "id": "border_color",
        "label": "Border Color"
      },
      {
        "type": "range",
        "unit": "px",
        "min": 0,
        "max": 100,
        "default": 1,
        "id": "border",
        "label": "Border Thickness",
        "step": 1
      },
      {
        "type": "image_picker",
        "label": "Image",
        "id": "image"
      },
      {
        "type": "range",
        "unit": "px",
        "min": 0,
        "max": 100,
        "default": 8,
        "id": "img_radius",
        "label": "Image Border Radius",
        "step": 1
      },
      {
        "type": "header",
        "content": "Block Style"
      },
      {
        "type": "select",
        "id": "column_width",
        "label": "Column Width",
        "options": [
          { "label": "Auto", "value": "auto" },
          { "label": "33.33%", "value": "33.33%" },
          { "label": "25%", "value": "25%" },
          { "label": "50%", "value": "50%" },
          { "label": "100%", "value": "100%" }
        ]
      },
      {
        "type": "text",
        "label": "Title",
        "id": "title"
      },
      {
        "type": "color",
        "label": "Title Font Color",
        "id": "title_color"
      },
      {
        "type": "range",
        "unit": "px",
        "min": 0,
        "max": 100,
        "default": 20,
        "id": "title_size",
        "label": "Title Font Size",
        "step": 1
      },
      {
        "type": "richtext",
        "id": "description",
        "label": "Description"
      },
      {
        "type": "color",
        "label": "Description Font Color",
        "id": "description_color"
      },
      {
        "type": "range",
        "unit": "px",
        "min": 0,
        "max": 100,
        "default": 20,
        "id": "description_size",
        "label": "Description Font Size",
        "step": 1
      },
      {
        "type": "range",
        "unit": "px",
        "min": 0,
        "max": 100,
        "default": 27,
        "id": "line_height",
        "label": "Description Line Height",
        "step": 1
      },
      {
        "type": "url",
        "id": "btn_link",
        "label": "Button Link"
      },
      {
        "type": "text",
        "label": "Button Text",
        "id": "btn_text"
      },
      {
        "type": "range",
        "unit": "px",
        "min": 0,
        "max": 100,
        "default": 0,
        "id": "btn_radius",
        "label": "Button Border Radius",
        "step": 1
      },
      {
        "type": "text_alignment",
        "id": "text_align",
        "label": "Text Align"
      },
      {
        "type": "color",
        "label": "Button Text Color",
        "id": "btn_text_color"
      },
      {
        "type": "color",
        "label": "Button Background Color",
        "id": "btn_bg_color"
      },
      {
        "type": "range",
        "label": "Button Padding",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 10,
        "id": "btn_padding"
      },
      {
        "type": "range",
        "label": "Button Width",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 100,
        "id": "btn_width"
      }
    ],
    "presets": [
      {
        "name": "Card"
      }
    ]
  }
{% endschema %}
